---
to: src/{{name}}-service.js
deterministic: true
contentAddressed: true
attestations: true
---
/**
 * {{name}} Service - Generated by KGEN
 * 
 * This service manages entities from the knowledge graph.
 * Entities processed: {{entities.length}}
 */

class {{name}}Service {
  constructor() {
    this.entities = new Map();
  }

{% for entity in entities %}
{% if entity.type == 'Person' %}
  // Person: {{entity.properties.hasName}}
  addPerson{{loop.index}}() {
    return {
      id: '{{entity.id}}',
      name: '{{entity.properties.hasName}}',
      email: '{{entity.properties.hasEmail}}',
      age: {{entity.properties.hasAge}},
      type: 'Person'
    };
  }
{% endif %}
{% endfor %}

  getAllPersons() {
    return [
{% for entity in entities %}
{% if entity.type == 'Person' %}
      this.addPerson{{loop.index}}(){{ "," if not loop.last }}
{% endif %}
{% endfor %}
    ];
  }

  getEntityCount() {
    return {{entities.length}};
  }
}

module.exports = {{name}}Service;