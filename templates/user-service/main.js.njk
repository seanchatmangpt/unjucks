---
to: src/{{name | lower}}-service.js
inject: true
skipIf: "// KGEN_GENERATED"
---
// KGEN_GENERATED - This file was generated by KGEN
/**
 * {{name}} Service
 * Generated from knowledge graph at {{metadata.generatedAt}}
 */

class {{name | title}}Service {
  constructor() {
    this.users = new Map();
  }

{% for entity in entities %}
{% if entity.type == 'Person' %}
  // User: {{entity.properties.hasName}}
  addUser{{loop.index}}() {
    return {
      id: '{{entity.id}}',
      name: '{{entity.properties.hasName}}',
      email: '{{entity.properties.hasEmail}}',
      age: {{entity.properties.hasAge}}
    };
  }
{% endif %}
{% endfor %}

  getAllUsers() {
    return [
{% for entity in entities %}
{% if entity.type == 'Person' %}
      this.addUser{{loop.index}}(){{ "," if not loop.last }}
{% endif %}
{% endfor %}
    ];
  }
}

module.exports = {{name | title}}Service;