{# Base Document Template - Foundation for all document types #}
{%- set documentMeta = {
  title: title or "Untitled Document",
  author: author or "Unknown Author",
  date: date or currentDate,
  version: version or "1.0",
  type: documentType or "Document"
} -%}

{%- block documentHeader -%}
{# Document metadata - can be overridden by child templates #}
{%- endblock -%}

{%- block documentTitle -%}
{{ documentMeta.title | upper }}
{%- endblock -%}

{%- block documentSubtitle -%}
{%- if subtitle -%}
{{ subtitle }}
{%- endif -%}
{%- endblock -%}

{%- block authorInfo -%}
{%- if documentMeta.author -%}
By: {{ documentMeta.author }}
{%- endif -%}
{%- if documentMeta.date -%}
Date: {{ documentMeta.date | dateFormat }}
{%- endif -%}
{%- endblock -%}

{%- block documentBody -%}
{# Main document content - must be implemented by child templates #}
{%- endblock -%}

{%- block documentFooter -%}
{# Footer content - can be overridden by child templates #}
{%- if includeFooter !== false -%}

---
Generated by {{ templateEngine }} on {{ currentDateTime | dateFormat }}
Document Type: {{ documentMeta.type }}
Version: {{ documentMeta.version }}
{%- endif -%}
{%- endblock -%}

{%- block appendix -%}
{# Appendix section - optional content #}
{%- if appendixContent -%}

APPENDIX
========

{{ appendixContent }}
{%- endif -%}
{%- endblock -%}