---
to: "{{ destDir }}/{{ name | slug }}-organization.json"
inject: false
---
{
  "@context": "https://schema.org/",
  "@type": "{{ organizationType | default('Organization') | schemaOrg }}",
  "@id": "{{ baseUrl | rdfResource }}/organization/{{ id | slug }}",
  
  "name": "{{ name | titleCase }}",
  "legalName": "{{ legalName | titleCase }}",
  "alternateName": "{{ alternateName | titleCase }}",
  "description": "{{ description | truncate(300) | escape }}",
  "url": "{{ website | rdfResource }}",
  "identifier": "{{ organizationId | upper }}",
  
  "logo": {
    "@type": "ImageObject",
    "url": "{{ logo | rdfResource }}",
    "contentUrl": "{{ logo | rdfResource }}",
    "width": {{ logoWidth | default(400) }},
    "height": {{ logoHeight | default(400) }}
  },
  
  "image": [
    {% for image in images -%}
    {
      "@type": "ImageObject",
      "url": "{{ image.url | rdfResource }}",
      "contentUrl": "{{ image.url | rdfResource }}",
      "caption": "{{ image.caption | escape }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  
  "address": {{ address | schemaAddress | dump }},
  
  "contactPoint": [
    {% if generalContact -%}
    {
      "@type": "ContactPoint",
      "contactType": "{{ generalContact.type | default('customer service') }}",
      "telephone": "{{ generalContact.phone }}",
      "email": "{{ generalContact.email }}",
      "availableLanguage": [
        {% for lang in generalContact.languages -%}
        "{{ lang }}"{% if not loop.last %},{% endif %}
        {% endfor %}
      ],
      "hoursAvailable": {{ generalContact.hours | schemaOpeningHours | dump }}
    }{% if otherContacts %},{% endif %}
    {% endif -%}
    {% for contact in otherContacts -%}
    {
      "@type": "ContactPoint",
      "contactType": "{{ contact.type | titleCase }}",
      "telephone": "{{ contact.phone }}",
      "email": "{{ contact.email }}",
      "availableLanguage": [
        {% for lang in contact.languages -%}
        "{{ lang }}"{% if not loop.last %},{% endif %}
        {% endfor %}
      ]
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  
  "telephone": "{{ mainPhone }}",
  "email": "{{ mainEmail }}",
  "faxNumber": "{{ fax }}",
  
  {% if founder -%}
  "founder": [
    {% for founder in founders -%}
    {
      "@type": "Person",
      "name": "{{ founder.name | titleCase }}",
      "birthDate": "{{ founder.birthDate | schemaDate('date') }}",
      "nationality": {
        "@type": "Country",
        "name": "{{ founder.nationality | titleCase }}"
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  "foundingDate": "{{ foundingDate | schemaDate('date') }}",
  "foundingLocation": {
    "@type": "Place",
    "name": "{{ foundingLocation | titleCase }}",
    "address": {{ foundingAddress | schemaAddress | dump }}
  },
  
  "dissolutionDate": "{{ dissolutionDate | schemaDate('date') }}",
  
  {% if employees -%}
  "employee": [
    {% for employee in employees -%}
    {
      "@type": "Person",
      "name": "{{ employee.name | titleCase }}",
      "jobTitle": "{{ employee.title | titleCase }}",
      "email": "{{ employee.email }}",
      "telephone": "{{ employee.phone }}",
      "workLocation": {
        "@type": "Place",
        "name": "{{ employee.location | titleCase }}"
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if employeeCount %}"numberOfEmployees": {
    "@type": "QuantitativeValue",
    "value": {{ employeeCount }}
  },{% endif %}
  
  {% if leadership -%}
  "member": [
    {% for leader in leadership -%}
    {
      "@type": "OrganizationRole",
      "member": {
        "@type": "Person",
        "name": "{{ leader.name | titleCase }}",
        "email": "{{ leader.email }}"
      },
      "roleName": "{{ leader.role | titleCase }}",
      "startDate": "{{ leader.startDate | schemaDate('date') }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if parentOrganization -%}
  "parentOrganization": {
    "@type": "{{ parentOrganization.type | default('Organization') | schemaOrg }}",
    "name": "{{ parentOrganization.name | titleCase }}",
    "url": "{{ parentOrganization.url | rdfResource }}"
  },
  {% endif %}
  
  {% if subsidiaries -%}
  "subOrganization": [
    {% for subsidiary in subsidiaries -%}
    {
      "@type": "{{ subsidiary.type | default('Organization') | schemaOrg }}",
      "name": "{{ subsidiary.name | titleCase }}",
      "url": "{{ subsidiary.url | rdfResource }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if departments -%}
  "department": [
    {% for dept in departments -%}
    {
      "@type": "Organization",
      "name": "{{ dept.name | titleCase }}",
      "description": "{{ dept.description | escape }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if services -%}
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Services and Products",
    "itemListElement": [
      {% for service in services -%}
      {
        "@type": "Offer",
        "itemOffered": {
          "@type": "{{ service.type | default('Service') | schemaOrg }}",
          "name": "{{ service.name | titleCase }}",
          "description": "{{ service.description | escape }}"
        },
        "price": "{{ service.price | number(2) }}",
        "priceCurrency": "{{ service.currency | default('USD') | upper }}"
      }{% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  },
  {% endif %}
  
  {% if locations -%}
  "location": [
    {% for location in locations -%}
    {
      "@type": "Place",
      "name": "{{ location.name | titleCase }}",
      "address": {{ location.address | schemaAddress | dump }},
      "geo": {{ location.coordinates | schemaGeo | dump }},
      "telephone": "{{ location.phone }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if areaServed -%}
  "areaServed": [
    {% for area in areaServed -%}
    {
      "@type": "{{ area.type | default('Place') | schemaOrg }}",
      "name": "{{ area.name | titleCase }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if memberOf -%}
  "memberOf": [
    {% for membership in memberOf -%}
    {
      "@type": "Organization",
      "name": "{{ membership.name | titleCase }}",
      "url": "{{ membership.url | rdfResource }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if certifications -%}
  "hasCredential": [
    {% for cert in certifications -%}
    {
      "@type": "EducationalOccupationalCredential",
      "credentialCategory": "{{ cert.type | titleCase }}",
      "name": "{{ cert.name | titleCase }}",
      "dateCreated": "{{ cert.issueDate | schemaDate('date') }}",
      "expires": "{{ cert.expiryDate | schemaDate('date') }}",
      "recognizedBy": {
        "@type": "Organization",
        "name": "{{ cert.issuer | titleCase }}"
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if awards -%}
  "award": [
    {% for award in awards -%}
    "{{ award.name | titleCase }}"{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if socialMedia -%}
  "sameAs": [
    {% for social in socialMedia -%}
    "{{ social.url | rdfResource }}"{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if reviews and reviews.length > 0 -%}
  "review": [
    {% for review in reviews -%}
    {
      "@type": "Review",
      "reviewRating": {
        "@type": "Rating",
        "ratingValue": "{{ review.rating | number(1) }}",
        "bestRating": "{{ review.maxRating | default(5) }}",
        "worstRating": "{{ review.minRating | default(1) }}"
      },
      "name": "{{ review.title | escape }}",
      "reviewBody": "{{ review.body | truncate(500) | escape }}",
      "datePublished": "{{ review.date | schemaDate }}",
      "author": {
        "@type": "Person",
        "name": "{{ review.author | titleCase }}"
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  {% if aggregateRating -%}
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "{{ aggregateRating.value | number(2) }}",
    "reviewCount": "{{ aggregateRating.count | number }}",
    "bestRating": "{{ aggregateRating.best | default(5) }}",
    "worstRating": "{{ aggregateRating.worst | default(1) }}"
  },
  {% endif %}
  
  {% if financials -%}
  "owns": [
    {% for asset in financials.assets -%}
    {
      "@type": "OwnershipInfo",
      "ownedFrom": "{{ asset.acquiredDate | schemaDate('date') }}",
      "typeOfGood": {
        "@type": "Product",
        "name": "{{ asset.name | titleCase }}"
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  {% endif %}
  
  "vatID": "{{ vatId }}",
  "taxID": "{{ taxId }}",
  "duns": "{{ dunsNumber }}",
  "globalLocationNumber": "{{ gln }}",
  
  "knowsLanguage": [
    {% for language in languages -%}
    {
      "@type": "Language",
      "name": "{{ language.name | titleCase }}",
      "alternateName": "{{ language.code | upper }}"
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  
  "dateCreated": "{{ created | default(now()) | schemaDate }}",
  "dateModified": "{{ modified | default(now()) | schemaDate }}",
  
  "potentialAction": [
    {
      "@type": "ContactAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "{{ website }}/contact",
        "actionPlatform": [
          "http://schema.org/DesktopWebPlatform",
          "http://schema.org/MobileWebPlatform"
        ]
      }
    },
    {
      "@type": "FollowAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "{{ website }}/follow",
        "actionPlatform": [
          "http://schema.org/DesktopWebPlatform",
          "http://schema.org/MobileWebPlatform"
        ]
      }
    }
  ]
}