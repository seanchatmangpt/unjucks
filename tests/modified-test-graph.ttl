@prefix ex: <http://example.org/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

# REST API Service - MODIFIED
ex:UserService rdf:type ex:RESTService ;
    ex:hasBaseURL "http://localhost:8080" ;
    ex:hasVersion "2.0.0" ;
    rdfs:label "User Management API" ;
    rdfs:comment "A REST service for managing user entities - enhanced version" .

# Entity Definition
ex:User rdf:type ex:Entity ;
    rdfs:label "User" ;
    rdfs:comment "User entity with validation properties" .

# Properties - MODIFIED
ex:name rdf:type ex:Property ;
    rdfs:label "User Name" ;
    ex:hasType "string" ;
    ex:isRequired "true" ;
    ex:hasMinLength "3" ;
    ex:hasMaxLength "200" .

ex:email rdf:type ex:Property ;
    rdfs:label "Email Address" ;
    ex:hasType "string" ;
    ex:isRequired "true" ;
    ex:hasPattern "^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$" .

ex:age rdf:type ex:Property ;
    rdfs:label "Age" ;
    ex:hasType "number" ;
    ex:isRequired "false" ;
    ex:hasMinValue "13" ;
    ex:hasMaxValue "120" .

# NEW PROPERTY
ex:phoneNumber rdf:type ex:Property ;
    rdfs:label "Phone Number" ;
    ex:hasType "string" ;
    ex:isRequired "false" ;
    ex:hasPattern "^\\+?[1-9]\\d{1,14}$" .

# Endpoints
ex:GetUser rdf:type ex:Endpoint ;
    rdfs:label "Get User" ;
    ex:hasMethod "GET" ;
    ex:hasPath "/users/{id}" ;
    ex:hasPathParameter ex:userId ;
    ex:hasStatusCode "200" .

ex:CreateUser rdf:type ex:Endpoint ;
    rdfs:label "Create User" ;
    ex:hasMethod "POST" ;
    ex:hasPath "/users" ;
    ex:hasRequestBody "true" ;
    ex:hasStatusCode "201" .

ex:UpdateUser rdf:type ex:Endpoint ;
    rdfs:label "Update User" ;
    ex:hasMethod "PUT" ;
    ex:hasPath "/users/{id}" ;
    ex:hasPathParameter ex:userId ;
    ex:hasRequestBody "true" ;
    ex:hasStatusCode "200" .

ex:DeleteUser rdf:type ex:Endpoint ;
    rdfs:label "Delete User" ;
    ex:hasMethod "DELETE" ;
    ex:hasPath "/users/{id}" ;
    ex:hasPathParameter ex:userId ;
    ex:hasStatusCode "204" .

# Path Parameter
ex:userId rdf:type ex:PathParameter ;
    rdfs:label "User ID" ;
    ex:hasType "string" .