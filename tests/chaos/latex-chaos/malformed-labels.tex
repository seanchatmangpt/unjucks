\documentclass{article}
\begin{document}
\section{Test}\label{with spaces in label}  % Spaces in labels
\section{Another}\label{special!@#$%characters}  % Special chars

References: \ref{with spaces in label}, \ref{special!@#$%characters}

\label{}  % Empty label
\ref{}    % Empty reference
\end{document}